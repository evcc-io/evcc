template: ecoflow-powerstream
products:
  - brand: EcoFlow
    description:
      generic: PowerStream Series (WN511, WN512)
requirements:
  evcc: ["skiptest"]
  description:
    de: |
      Access Key und Secret Key von der EcoFlow Developer Console.
      Developer Portal: https://developer-eu.ecoflow.com/us
    en: |
      Access Key and Secret Key from EcoFlow Developer Console.
      Developer Portal: https://developer-eu.ecoflow.com/us
params:
  - name: usage
    choice: ["pv", "grid", "battery"]
  - name: sn
    required: true
    example: HW51ZCxxxx
    description:
      generic: Serial Number
  - name: accesskey
    required: true
    example: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    description:
      generic: Access Key
  - name: secretkey
    required: true
    example: xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
    description:
      generic: Secret Key
  - name: cache
    default: 10s
    advanced: true
render: |
  type: ecoflow-powerstream
  sn: {{ .sn }}
  accesskey: {{ .accesskey }}
  secretkey: {{ .secretkey }}
  usage: {{ .usage }}
  {{- if ne .cache "10s" }}
  cache: {{ .cache }}
  {{- end }}
