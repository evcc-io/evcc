template: ecoflow-powerstream
products:
  - brand: EcoFlow
    description:
      generic: PowerStream Series (WN511, WN512)
requirements:
  description:
    de: |
      Für die Nutzung des EcoFlow PowerStream als Strommesser benötigen Sie:
      - Einen gültigen Access Key von der EcoFlow Developer Console
      - Den entsprechenden Secret Key
      - Die Seriennummer (SN) Ihres PowerStream Gerätes
      - Die API URI (Standard: https://api-e.ecoflow.com)

      Diese Credentials erhalten Sie über die EcoFlow Developer Console nach der Registrierung Ihrer Anwendung.
    en: |
      To use the EcoFlow PowerStream meter you need:
      - A valid Access Key from the EcoFlow Developer Console
      - The corresponding Secret Key
      - The serial number (SN) of your PowerStream device
      - The API URI (default: https://api-e.ecoflow.com)

      These credentials can be obtained through the EcoFlow Developer Console after registering your application.
params:
  - name: usage
    choice: ["pv", "grid", "battery"]
    allinone: true
  - name: uri
    required: true
    default: "https://api-e.ecoflow.com"
    description:
      generic: API URI
    help:
      en: EcoFlow API endpoint (cloud)
      de: EcoFlow API Endpunkt (Cloud)
  - name: sn
    required: true
    description:
      generic: Serial Number
    help:
      en: Serial number of your EcoFlow PowerStream device
      de: Seriennummer Ihres EcoFlow PowerStream Gerätes
  - name: accessKey
    required: true
    description:
      generic: Access Key
    help:
      en: Access Key from EcoFlow Developer Console
      de: Access Key aus der EcoFlow Developer Console
  - name: secretKey
    required: true
    description:
      generic: Secret Key
    help:
      en: Secret Key from EcoFlow Developer Console
      de: Secret Key aus der EcoFlow Developer Console
  - name: cache
    default: 30s
    advanced: true
render: |
  type: ecoflow-powerstream
  uri: {{ .uri }}
  sn: {{ .sn }}
  accessKey: {{ .accessKey }}
  secretKey: {{ .secretKey }}
  usage: {{ .usage }}
  cache: {{ .cache }}
