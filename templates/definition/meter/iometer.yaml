template: iometer
products:
  - brand: IOmeter
    description:
      generic: HTTP API
group: generic
params:
  - name: usage
    choice: ["grid"]
  - name: host
    description:
      de: IP deines IOmeter
      en: IP of your IOmeter
render: |
  type: custom
  power:
    source: http
    uri: http://{{ .host }}/v1/reading
    method: GET
    timeout: 10s
    jq: .meter.reading.registers[] | select(.obis == "01-00:10.07.00*ff") | .value
  energy:
    source: http
    uri: http://{{ .host }}/v1/reading
    method: GET
    timeout: 10s
    jq: .meter.reading.registers[] | select(.obis == "01-00:01.08.00*ff") | .value
