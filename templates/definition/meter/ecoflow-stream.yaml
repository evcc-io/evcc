template: ecoflow-stream
products:
  - brand: EcoFlow
    description:
      generic: STREAM Ultra, STREAM Pro, STREAM AC Pro, STREAM Ultra X, STREAM Ultra (US)
requirements:
  description:
    de: |
      Für die Nutzung des EcoFlow Stream als Meter benötigen Sie:
      - Einen gültigen Access Key von der EcoFlow Developer Console
      - Den entsprechenden Secret Key
      - Die Seriennummer (SN) Ihres Stream Gerätes
      - Die API URI (Standard: https://api-e.ecoflow.com)

      Diese Credentials erhalten Sie über die EcoFlow Developer Console nach der Registrierung Ihrer Anwendung.

      **Hinweis für mehrere Stream-Geräte:** In einem Stream Verbund (mehrere Geräte zusammen) konfigurieren Sie nur den Master (STREAM Ultra).
    en: |
      To use the EcoFlow Stream meter you need:
      - A valid Access Key from the EcoFlow Developer Console
      - The corresponding Secret Key
      - The serial number (SN) of your Stream device
      - The API URI (default: https://api-e.ecoflow.com)

      These credentials can be obtained through the EcoFlow Developer Console after registering your application.

      **Note for multiple Stream devices:** In a Stream cluster (multiple devices together), only configure the master (STREAM Ultra).
params:
  - name: usage
    choice: ["grid", "pv", "battery"]
    allinone: true
  - name: uri
    required: true
    default: "https://api-e.ecoflow.com"
    description:
      generic: API URI
    help:
      en: EcoFlow API endpoint (cloud)
      de: EcoFlow API Endpunkt (Cloud)
  - name: sn
    required: true
    description:
      generic: Serial Number
    help:
      en: Serial number of your EcoFlow Stream device (e.g., HJ31ZD1AZH5G0342)
      de: Seriennummer Ihres EcoFlow Stream Gerätes (z.B. HJ31ZD1AZH5G0342)
  - name: accessKey
    required: true
    description:
      generic: Access Key
    help:
      en: Access Key from EcoFlow Developer Console
      de: Access Key aus der EcoFlow Developer Console
  - name: secretKey
    required: true
    description:
      generic: Secret Key
    help:
      en: Secret Key from EcoFlow Developer Console
      de: Secret Key aus der EcoFlow Developer Console
  - name: cache
    default: 30s
    advanced: true
render: |
  type: ecoflow-stream
  uri: {{ .uri }}
  sn: {{ .sn }}
  accessKey: {{ .accessKey }}
  secretKey: {{ .secretKey }}
  usage: {{ .usage }}
  cache: {{ .cache }}
