template: ecoflow-stream
products:
  - brand: EcoFlow
    description:
      generic: STREAM Ultra, STREAM Pro, STREAM AC Pro
requirements:
  description:
    de: |
      Access Key und Secret Key von der EcoFlow Developer Console.
      Developer Portal: https://developer-eu.ecoflow.com/us
    en: |
      Access Key and Secret Key from EcoFlow Developer Console.
      Developer Portal: https://developer-eu.ecoflow.com/us
params:
  - name: usage
    choice: ["grid", "pv", "battery"]
  - name: sn
    required: true
    description:
      generic: Serial Number
  - name: accesskey
    required: true
    description:
      generic: Access Key
  - name: secretkey
    required: true
    description:
      generic: Secret Key
  - name: capacity
    advanced: true
    description:
      de: Batteriekapazit√§t (kWh)
      en: Battery capacity (kWh)
  - name: minsoc
    advanced: true
    description:
      de: Minimaler Ladestand (%)
      en: Minimum SOC (%)
  - name: maxsoc
    advanced: true
    description:
      de: Maximaler Ladestand (%)
      en: Maximum SOC (%)
  - name: cache
    default: 10s
    advanced: true
render: |
  type: ecoflow-stream
  sn: {{ .sn }}
  accesskey: {{ .accesskey }}
  secretkey: {{ .secretkey }}
  usage: {{ .usage }}
  {{- if .capacity }}
  capacity: {{ .capacity }}
  {{- end }}
  {{- if .minsoc }}
  minsoc: {{ .minsoc }}
  {{- end }}
  {{- if .maxsoc }}
  maxsoc: {{ .maxsoc }}
  {{- end }}
  {{- if ne .cache "10s" }}
  cache: {{ .cache }}
  {{- end }}
