template: zendure-solarflow-ac
covers: [zendure-solarflow-2400-ac]
products:
  - brand: Zendure
    description:
      generic: Solarflow AC
params:
  - name: usage
    choice: ["battery"]
  - name: host
    required: true
  - name: capacity
    required: true
render: |
  type: custom
  power:
    source: http
    uri: http://{{ .host }}/properties/report
    jq: .properties.packInputPower - .properties.outputPackPower
    cache: 1s
  soc:
    source: http
    uri: http://{{ .host }}/properties/report
    jq: .properties.electricLevel
    cache: 1s
  capacity: {{ .capacity }}
