template: hoymiles-ahoydtu
products:
  - brand: Hoymiles
    description:
      generic: HM & HMS Series (via AhoyDTU)
params:
  - name: usage
    choice: ["pv"]
  - name: host
  - name: id
    type: int
    description:
      de: Wechselrichter ID (falls mehrere vorhanden, started bei 0 und steigt auf, siehe [AhoyDTU IP]/api/inverter/id/[ID] mit [ID] gleich 0,1,2 )
      en: Inverter ID (if multiple exist, starts at 0 and increments, check using [AhoyDTU IP]/api/inverter/id/[ID] where [ID] is 0,1,2 )
    default: 0
render: |
  type: custom
  power:
    source: http
    uri: http://{{ .host }}/api/inverter/id/{{ .id }}
    jq: .ch[0][2]
  energy:
    source: http
    uri: http://{{ .host }}/api/inverter/id/{{ .id }}
    jq: .ch[0][6]
