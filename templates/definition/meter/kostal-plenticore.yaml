template: kostal-plenticore
description: Kostal Plenticore Hybrid
guidedsetup:
  enable: true
  linked:
  - template: kostal_smart_energy_meter
    usage: grid
params:
- name: usage
  choice: [ "pv", "battery" ]
- name: host
  example: 192.0.2.2
  required: true
- name: port
  default: 1502
render: |
  type: modbus
  model: sunspec
  uri: {{ .host }}:{{ .port }}
  id: 71 # kostal default sunspec modbus id
  {{- if eq .usage "battery" }}
  power: 802:W # sunspec model 802 battery
  soc: 802:SoC # sunspec model 802 battery
  {{- end }}
