template: tinkerforge-warp2-em-ws
products:
  - { brand: TinkerForge, description: { generic: WARP2 Smart + Energy Manager } }
  - { brand: TinkerForge, description: { generic: WARP2 Pro + Energy Manager } }
capabilities: ["mA", "1p3p", "rfid"]
requirements:
  description:
    de: Firmware v2 erforderlich. Die WARP-eigene automatische Phasenumschaltung wird von EVCC beim Verbinden mit der Wallbox deaktiviert. Siehe [docs.warp-charger.com](https://docs.warp-charger.com/docs/mqtt_http/api_reference/evse#evse_phase_auto_switch_warp3).
    en: Firmware v2 required. WARP's own automatic phase switching will be deactivated by EVCC when connecting to the wallbox. See [docs.warp-charger.com](https://docs.warp-charger.com/docs/mqtt_http/api_reference/evse#evse_phase_auto_switch_warp3).
  evcc: ["skiptest"]
params:
  - name: uri
    required: true
  - name: user
  - name: password
  - name: energyMeterIndex
    advanced: true
    default: 0
    description:
      generic: Energy Meter Index
    help:
      de: Index des in der Warp konfigurierten Meters dessen Werte genutzt werden sollen.
      en: Index of the meter configured in the WARP charger whose values should be used.
  - name: energyManagerUri
    description:
      generic: Energy Manager URI
    help:
      de: HTTP(S) Adresse des WARP Energy Manager
      en: HTTP(S) address of the WARP Energy Manager
  - name: energyManagerUser
    description:
      de: Energy Manager Benutzerkonto
      en: Energy Manager Username
    help:
      de: bspw. E-Mail Adresse, User Id, etc.
      en: e.g. email address, user id, etc.
  - name: energyManagerPassword
    description:
      de: Energy Manager Passwort
      en: Energy Manager Password
    help:
      de: Bei f√ºhrenden Nullen bitte in einfache Hochkommata setzen
      en: Use single quotes in case of leading zeros
render: |
  type: warp-ws
  uri: {{ .uri }}
  user: {{ .user }}
  password: {{ .password }}
  energyManagerUri: {{ .energyManagerUri }}
  energyManagerUser: {{ .energyManagerUser }}
  energyManagerPassword: {{ .energyManagerPassword }}
  energyMeterIndex: {{ .energyMeterIndex }}
  disablePhaseAutoSwitch: true
