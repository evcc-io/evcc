template: braiins
products:
  - brand: Braiins
    description:
      generic: Bitcoin Miner
params:
  - name: uri
    description:
      de: IP-Adresse oder Hostname
      en: IP address or hostname
    required: true
    example: 192.168.1.40
  - name: user
    description:
      de: Benutzername
      en: Username
    default: root
  - name: password
    description:
      de: Passwort
      en: Password
    required: true
    mask: true
  - name: voltage
    description:
      de: Netzspannung in Volt
      en: Grid voltage in volts
    help:
      de: Europa/Australien/Asien=230V, USA/Kanada=120V, Japan=100V
      en: Common voltages - Europe/Australia/Asia=230V, USA/Canada=120V, Japan=100V
    type: float
    default: 230
    advanced: true
  - name: maxPower
    description:
      de: Maximale Leistung des Miners in Watt
      en: Maximum power for evcc control in watts
    help:
      de: "0 = automatisch"
      en: "0 = automatic, uses miner default"
    type: int
    default: 0
    advanced: true
  - name: powerTargetInterval
    description:
      de: Intervall zwischen Leistungsänderungen
      en: Minimum interval between power target updates
    help:
      de: "Format: 30s, 1m, 2m30s"
      en: "Reduces API calls and stabilizes mining. Format - 30s, 1m, 2m30s"
    type: duration
    default: 30s
    advanced: true
  - name: powerTargetStep
    description:
      de: Leistungsschritte in Watt
      en: Power target stepping in watts
    help:
      de: "Schrittweite für Rundung"
      en: "Rounds to multiples of this value. Larger steps = less fluctuation"
    type: int
    default: 100
    advanced: true
render: |
  type: braiins
  uri: {{ .uri }}
  user: {{ .user }}
  password: {{ .password }}
  {{- if ne (atoi .voltage) 230 }}
  voltage: {{ .voltage }}
  {{- end }}
  {{- if .maxPower }}
  maxPower: {{ .maxPower }}
  {{- end }}
  {{- if ne .powerTargetInterval "30s" }}
  powerTargetInterval: {{ .powerTargetInterval }}
  {{- end }}
  {{- if ne (atoi .powerTargetStep) 100 }}
  powerTargetStep: {{ .powerTargetStep }}
  {{- end }}
